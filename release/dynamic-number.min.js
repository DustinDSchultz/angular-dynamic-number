!function(n,e,r){"use strict";function t(n,e){return","===e?String(n).replace(".",","):String(n)}function u(n,e){return","===e?String(n).replace(/\./g,"").replace(",","."):String(n).replace(/,/g,"")}function i(n,e){if(n>=0){var r=parseInt(n,10);if(isNaN(r)===!1&&isFinite(r)&&r>=0)return r}return e}function a(n,e){if(n>=0){var r=parseInt(n,10);if(isNaN(r)===!1&&isFinite(r)&&r>=0)return r}return e}function o(n,e){return","===n?",":"."===n?".":e}function c(n,e){return"false"===n?!1:"true"===n?!0:e}function f(n,e){return"false"===n?!1:"true"===n?!0:e}function l(n,e){return"floor"===n?Math.floor:"ceil"===n?Math.ceil:"round"===n?Math.round:e}function s(n,e){return"false"===n?!1:"true"===n?!0:e}function g(n,e){return"false"===n?!1:"true"===n?!0:e}function m(n,e,r,t,u){var i="-?";t===!1&&u===!0?i="-":t===!0&&u===!1&&(i="");var a="[0-9]{0,"+n+"}";0===n&&(a="0");var o="(\\"+r+"([0-9]){0,"+e+"})";return 0===e&&(o=""),new RegExp("^"+i+a+o+"?$")}function d(n){return String(n).replace(/^0+/g,"").replace(/^-00+/g,"-0").replace(/-0+\[\.,]/,"-0$&").replace(/^[\.,]/g,"0$&")}function p(n,e){return"."===e?String(n).replace(/\./g,""):String(n).replace(/,/g,"")}function v(n,e){return String(n).replace(/\B(?=(\d{3})+(?!\d))/g,e)}function h(n,e){n.$setViewValue(e),n.$render()}function S(n,e,r,u,i,a){if(n=Number(n),!isNaN(n)&&isFinite(n)){var o=Math.pow(10,e);return n=i?t((u(n*o)/o).toFixed(e),r):t(String(u(n*o)/o),r),a&&(n=v(n,"."===r?",":".")),n}return i?0..toFixed(e):"0"}function w(n){var e=0;if(document.selection){n.focus();var r=document.selection.createRange();r.moveStart("character",-n.value.length),e=r.text.length}else(n.selectionStart||"0"==n.selectionStart)&&(e=n.selectionStart);return e}function N(n,e){if(null!==n)if(n.createTextRange){var r=n.createTextRange();r.move("character",e),r.select()}else n.selectionStart?(n.focus(),n.setSelectionRange(e,e)):n.focus()}function $(n,e,r){for(var t=0,u=0,i=0;i<n.length;i++)if(n[i]!==e){if(t++,t>=r)break}else u++;return u}function F(){return{restrict:"A",require:"?ngModel",scope:{numInt:"@",numFract:"@",numSep:"@",numPos:"@",numNeg:"@",numRound:"@",numThousand:"@"},link:function(n,e,s,F){var M=i(n.numInt,6),R=a(n.numFract,2),b=o(n.numSep,"."),x=c(n.numPos,!0),I=f(n.numNeg,!0),T=l(n.numRound,Math.round),V=g(n.numThousand,!1);if(x===!1&&I===!1)throw new Error("Number is set to not be positive and not be negative. Change num_pos attr or/and num_neg attr to true");var k=m(M,R,b,x,I);F.$parsers.unshift(function(n){var i=String(n),a=w(e[0]),o=i.slice(0,a),c=o.length;if(o=p(o,"."===b?",":"."),i=p(i,"."===b?",":"."),o=d(o),i=d(i),""===i&&"0"===String(n).charAt(0))return h(F,0),0;if(i===r||""===i)return 0;if("-"===i)return h(F,"-"),0;if(k.test(i)===!1){var f=t(F.$modelValue,b);return V&&(f=v(f,"."===b?",":".")),h(F,f),N(e[0],a-1),F.$modelValue}var l=0,s=a-c+o.length;return V&&(i=v(i,"."===b?",":"."),l=$(i,"."===b?",":".",s)),h(F,i),N(e[0],s+l),u(i,b)}),F.$formatters.push(function(n){return S(n,R,b,T,!1,V)})}}}function M(){return function(n,e,r,t,u,i){var c=a(e,2),f=o(r,"."),m=l(t,Math.round),d=s(u,!1),p=g(i,!1);return S(n,c,f,m,d,p)}}e.module("dynamicNumber",[]).directive("awnum",F).filter("awnum",M)}(window,window.angular);